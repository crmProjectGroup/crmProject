java.util.Calendar cal = java.util.Calendar.getInstance();
cal.setTime(new Date());
int year = cal.get(Calendar.YEAR);//当前年份
int month = cal.get(Calendar.MONTH)+1;//当前月份
int day = cal.get(Calendar.DATE);//当前天数
String recordtype = record_new.get("recordtype")==null?"":record_new.get("recordtype")+"";//记录类型
String uid = userInfo.getUserId();
String managerid = userInfo.getManagerId();

//上门信息更新
if("20186166515AE4A8ZfOc".equals(recordtype) || "2018496272C934EtLhWs".equals(recordtype)){
       this.cqlQuery("DailyReport","update DailyReport set xkhtj = ifnull(xkhtj,0)+1 where is_deleted = '0' and ownerid = '"+uid+"' and YEAR(createdate)='"+year+"' and MONTH(createdate)='"+month+"' and DAY(createdate)='"+day+"'");
       this.cqlQuery("DailyReport","update DailyReport set xkhtj = ifnull(xkhtj,0)+1 where is_deleted = '0' and ownerid = '"+managerid+"' and YEAR(createdate)='"+year+"' and MONTH(createdate)='"+month+"' and DAY(createdate)='"+day+"'");
            
}else{//进线信息更新
       this.cqlQuery("DailyReport","update DailyReport set jxtj = ifnull(jxtj,0)+1 where is_deleted = '0' and ownerid = '"+uid+"' and YEAR(createdate)='"+year+"' and MONTH(createdate)='"+month+"' and DAY(createdate)='"+day+"'");
       this.cqlQuery("DailyReport","update DailyReport set jxtj = ifnull(jxtj,0)+1 where is_deleted = '0' and ownerid = '"+managerid+"' and YEAR(createdate)='"+year+"' and MONTH(createdate)='"+month+"' and DAY(createdate)='"+day+"'");
}